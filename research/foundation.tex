\chapter{Foundation}

If you are already familiar with the things here,
please at least skim this chapter to verify that
we are speaking the same language.

\section{Type}

\index{type}%
\index{inhabitant}%
\(x : T\) means that the \emph{type} of \(x\) is \(T\).
We also say that \(x\) \emph{inhabits} \(T\) and that \(x\) is an \emph{inhabitant} of \(T\).
\index{function type}%
\index{type!function}%
A \emph{function type} looks like \(a \to b\).

Function application:
Iff \(x:A\) and \(f:A\to B\), then \(f(x):B\).

The arrow in a function type associates to the right.
The type \(a \to b \to c\) means \(a \to (b \to c)\).

Types and sets are different:
\(x \in A\) and \(x : A\) are different.

\section{Logic}

\index{iff}%
\index{if and only if}%
``Iff'' is ``if and only if''.
It is bi-implication.

\index{connectives}%
\index{logical connectives}%
Logical connectives:
\index{conjunction}%
\index{and}%
\emph{Conjunction} is \(a \wedge b\) (\(a\) and \(b\)).
\index{disjunction}%
\index{or}%
\emph{Disjunction} is \(a \vee b\) (\(a\) or \(b\)).
\index{implication}%
\emph{Implication} is \(a \implies b\) (if \(a\) then \(b\)).
\index{bi-implication}%
\emph{Bi-implication} is \(a \iff b\) (iff \(a\) then \(b\)).
\index{negation}%
\index{not}%
\emph{Negation} is \(\neg a\) (not \(a\)).

\section{Set}

\index{set}%
Practically, a \emph{set} is an unordered collection of unique things.%
\index{Russell's paradox}%
\footnote{Theoretically, a set cannot be defined this way due to Russell's paradox.}
If \(a \neq b\), then the notations \(\{a,b\}\), \(\{b,a\}\), and \(\{a,a,b\}\)
all describe the same set of \emph{two} elements.
The \emph{cardinality} of a set \(A\), written \(|A|\),
is the number of elements of \(A\).

\index{set builder notation}%
\index{notation!set builder}%
\paragraph{Set builder notation}
\( \{ M ~|~ F \} \)
describes the set of every \(M\) where \(F\) is true
where \(M\) is an expression and \(F\) is a logic formula.
For example, \(\{ x^2 ~|~ x \in \Nat \}\) is \(\{ 0^2, 1^2, 2^2, \ldots \}\).
The ellipsis (\ldots) is not an element of the set;
there are just too many things to write.

\paragraph{Set relationships}
\index{subset}%
\(A \subseteq B\)
(\(A\) is a \emph{subset} of \(B\))
iff \(\forall x (x \in A \implies x \in B)\).
\index{disjoint sets}%
\index{sets!disjoint}%
Two sets \(a\) and \(b\) are \emph{disjoint} iff \(a \cap b = \emptyset\).

\paragraph{Set operations}
\index{intersection}%
\index{intersection  (set theory)}%
The \emph{intersection of \(A\) and \(B\)} is
\(A \cap B = \{ x ~|~ x \in A \wedge x \in B \}\).
\index{union}%
\index{union (set theory)}%
The \emph{union of \(A\) and \(B\)} is
\(A \cup B = \{ x ~|~ x \in A \vee x \in B \}\).
\index{subtraction (set theory)}%
\index{sets!subtraction}%
The \emph{subtraction of \(A\) and \(B\)} is
\(A - B = \{ x ~|~ x \in A \wedge x \not\in B \}\).
\index{Cartesian product}%
The \emph{Cartesian product of \(A\) and \(B\)} is \(A \times B = \{ (a,b) ~|~ a \in A, b \in B \}\).
The \emph{Cartesian product of \(A_1,\ldots,A_n\)} is
\(\prod_{k=1}^n A_k = A_1 \times \ldots \times A_n = \{ (a_1,\ldots,a_n) ~|~ a_1 \in A_1, ~\ldots, ~a_n \in A_n \}\).
\index{power set}%
\index{set!power}%
The \emph{power set} of \(A\) is \(2^A = \{ X ~|~ X \subseteq A \}\),
the set of all subsets of \(A\).

\paragraph{Closed under binary operation}
\index{closed under binary operation}%
Let \(S\) be a set and \(f\) be a \emph{binary operation} (a two-argument function).
\emph{\(S\) is closed under \(f\)} iff
\(\forall a, b \in S : f(a,b) \in S\).

\paragraph{Partitioning}
\(A_1,\ldots,A_n\) is a \emph{partitioning of \(A\)} if and only if
\(\bigcup_{k=1}^n A_k = A\) and
\(\forall i \neq j (A_i \cap A_j = \emptyset)\).

\section{Relation}

\index{relation}%
A \emph{relation} is a subset of a Cartesian product.
\index{binary relation}%
\index{relation!binary}%
\(R\) is a \emph{binary relation} between \(A\) and \(B\) iff \(R \subseteq A \times B\).
Iff \(A = B\), then \(R\) is an \emph{endorelation}.

\paragraph{Notation}
We write \(a R b\) or \(R(a,b)\) to mean \((a,b) \in R\).
We write \(\neg (a R b)\) or \(\neg R(a,b)\) to mean \((a,b) \not\in R\).

Properties of an endorelation:
\index{reflexive relation}%
\index{relation!reflexive}%
An endorelation \(R \subseteq A \times A\) is \emph{reflexive} iff
\(\forall x \in A : (x,x) \in R\),
\index{symmetric relation}%
\index{relation!symmetric}%
is \emph{symmetric} iff
\(\forall x,y: (x,y) \in R \iff (y,x) \in R\),
\index{antisymmetric relation}%
\index{relation!antisymmetric}%
is \emph{antisymmetric} iff
\(\forall x,y: (x,y) \in R \wedge (y,x) \in R \implies x = y\),
\index{transitive relation}%
\index{relation!transitive}%
is \emph{transitive} iff
\(\forall x,y,z: (x,y) \in R \wedge (y,z) \in R \implies (x,z) \in R\),
\index{total relation}%
\index{relation!total}%
is \emph{total} iff
\(\forall x \in A , y \in A : (x,y) \in R \vee (y,x) \in R\).

\index{equivalence relation}%
\index{relation!equivalence}%
An \emph{equivalence relation} is a symmetric transitive reflexive relation.
\index{partial order}%
\index{total order}%
\index{order!partial}%
\index{order!total}%
A \emph{partial order} is a antisymmetric transitive reflexive relation.
A \emph{total order} is an antisymmetric transitive total relation.

The
\index{composition}%
\index{composition!of two relations}%
\index{relation!composition}%
\emph{composition} of \(f\) and \(g\) is
\(f \circ g = \{ (a,c) ~|~ (a,b) \in g \wedge (b,c) \in f \}\).
Repeated composition: \(f^{n+1} = f \circ f^n\).

\(R\) is \emph{transitive} iff \(\forall a,b,c : a R b \wedge b R c \implies a R c\).

The \emph{inverse} of \(R\) is \(R^{-1} = \{ (b,a) ~|~ a R b \}\).

The
\index{symmetric closure}%
\emph{symmetric closure} of \(R\)
is the smallest symmetric relation that is also a superset of \(R\).
The symmetric closure of \(R\) is \(R \cup R^{-1}\).
The
\index{transitive closure}%
\emph{transitive closure} of \(R\)
is the smallest transitive relation that is also a superset of \(R\).

\section{Function}

\index{function}%
A \emph{function} \(f\) is a relation such that
\(\forall a, b, c : (a,b) \in f \wedge (a,c) \in f \implies b = c\).
The type of a function is \(a \to b\).
If \(f\) is a function, then \(f(a) = b\) iff \((a,b) \in f\).
The type of a relation between \(a\) and \(b\) is \(a \to 2^b\).
If $(a,b) \in f$ and $(a,c) \in f$, then $b = c$.

\index{endofunction}%
The type of an \emph{endofunction} is \(a \to a\).
An endofunction is a function whose input type is equal to its output type.

\index{Iverson bracket}%
\paragraph{Iverson bracket}
\([E]\) is \(1\) iff \(E\) is true
and \(0\) iff \(E\) is false.

\index{indicator function}%
\paragraph{Indicator function}
\(1_A(x) = [x \in A]\).

\index{unnamed function}%
\paragraph{Unnamed function}
\(f(x) = x + 1\) and \(f = x \to x+1\) describe the same function.
When an expression is expected, the notation \(X \to Y\)
means a function that evaluates to \(Y\) if given \(X\).
When a type is expected, the notation \(X \to Y\) describes a function type.
Expressions like \(x \to x + 1\) are called \emph{unnamed functions}.

The
\index{image!of relation}%
\emph{\(R\)-image} of \(A\) is \(\{ y ~|~ (x,y) \in R, ~ x \in A \}\).

The
\index{preimage!of relation}%
\emph{\(R\)-preimage} of \(A\) is \(\{ x ~|~ (x,y) \in R, ~ y \in A \}\).

The
\index{image!of function}%
\emph{\(f\)-image} of \(A\) is \(\{ f(x) ~|~ x \in A \}\).

The
\index{preimage!of function}%
\emph{\(f\)-preimage} of \(A\) is \(\{ x ~|~ f(x) \in A \}\).

For all function \(f\):
if \(A \subset B\) then \(F(A) \subseteq F(B)\)
where \(F(A) = \{ f(x) ~|~ x \in A \}\).

For all function \(f\):
if \(A \subset B\) then \(G(A) \subseteq G(B)\)
where \(G(A) = \{ x ~|~ f(x) \in A \}\).

The function type operator associates to the right: \(a \to b \to c = a \to (b \to c)\).

\paragraph{Currying}
\index{curry}%
\index{currying}%
\emph{Currying} turns every function that takes \(n\) arguments
to an equivalent function that takes one argument.
Currying \(f : (a_1,\ldots,a_n) \to b\) turns it into \(f' : a_1 \to \ldots \to a_n \to b\)
such that \(f(x_1,\ldots,x_n)
= f'~x_1~\ldots~x_n
= (((f'~x_1)~x_2)\ldots)~x_n\).

If it is clear from context that \(f\) can take 3 arguments (and not one 3-tuple argument),
then we abuse the notation \(f(a,b,c)\) to mean \(((f~a)~b)~c\).

\section{Polynomial}

A \emph{polynomial of \(x\)} is an expression of the form \(\sum_{k=0}^n a_k x^k\)
where \(n\) is the \emph{degree} of the polynomial.

A
\index{polynomial}%
\emph{polynomial function of degree \(n\)} is a function of the form
\(f(x) = \sum_{k=0}^n a_k x^k\) where each \(a_k\) is constant.

A \emph{polynomial function of degree \(n\)} is a function of the form
\(f(x) = \prod_{k=1}^n (x - r_k)\) where each \(r_k\) is constant.
Each \(r_k\) is a \emph{root} of the polynomial.

\section{Limit}

Informally, \(\lim_{x \to a} f(x) = b\)
iff \(f(x)\) approaches \(b\) as \(x\) approaches \(a\).

\section{Sequence}

\index{sequence}%
A \emph{sequence} \(x\) is a list of things \(x_0, x_1, x_2\), and so on.

An
\index{arithmetic sequence}%
\index{sequence!arithmetic}%
\emph{arithmetic sequence} is a sequence of the form \(x_k = x_0 + a k\).

A
\index{geometric sequence}%
\index{sequence!geometric}%
\emph{geometric sequence} is a sequence of the form \(x_k = r^k x_0\).

\section{Series}

\index{series}%
If \(x\) is a sequence, then \(\sum_k x_k\) is a \emph{series}.
The series \emph{converges} iff it is a number.

The
\index{sequence of partial sums}%
\index{partial sum}%
\emph{sequence of partial sums} of the sequence \(x\) is
the sequence \(y\)
where \(y_n = \sum_{k=0}^n x_k\).
The series is \(\lim_{n \to \infty} y_n\).

The
\index{geometric series}%
\index{series!geometric}%
\emph{geometric series} with ratio \(r\) is \(g(r) = \sum_{k=0}^\infty r^k\).
If \(0 < \abs{r} < 1\) then \(g(r) = \frac{1}{1-r}\).
